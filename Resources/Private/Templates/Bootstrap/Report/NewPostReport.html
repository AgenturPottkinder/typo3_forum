{namespace mmf=Mittwald\Typo3Forum\ViewHelpers}
{namespace b=Mittwald\Typo3Forum\ViewHelpers\Bootstrap}
<f:layout name="default" />



<f:section name="main">
	<f:render partial="FormErrors" />

	<h2>
		<f:translate key="Report_NewPostReport"/>
	</h2>

	<f:form name="firstComment" object="{firstComment}" controller="Report" action="createPostReport" id="report" class="form-horizontal">
		<fieldset>
			<legend>
				<f:translate key="Report_New" />
			</legend>
			<b:form.row llLabel="Report_New_Author">
				<span class="input-xlarge uneditable-input span8">
					<f:link.action controller="User" action="show" arguments="{user: post.author}" pageUid="{settings.pids.UserShow}">{post.author.username}</f:link.action>
				</span>
			</b:form.row>
			<b:form.row llLabel="Report_New_OriginalText">
				<div class="well" style="margin-bottom: 0px;">
					<mmf:format.textParser content="{post.text}" />
				</div>
			</b:form.row>
			<b:form.row llLabel="Report_New_Reason" error="firstComment.text" errorLLPrefix="Report_New_Error_Reason">
				<mmf:form.bbCodeEditor class="tx-typo3forum-editor" property="text" id="typo3forum_editor" rows="5" cols="80" class="span8" />
			</b:form.row>
			<div class="form-actions">
				<div class="mb-5">
					<f:form.hidden name="post" value="{post}" />
					<f:form.submit value="{f:translate(key:'Report_New_Submit')}" class="btn btn-primary" />
				</div>
				<f:link.action controller="Topic" action="show" class="btn btn-secondary" arguments="{topic: post.topic}">
					<i class="fas fa-chevron-left mr-1"></i>
					<f:translate key="Button_Back" />
				</f:link.action>
			</div>
		</fieldset>
	</f:form>
</f:section>



<f:section name="menu" />
